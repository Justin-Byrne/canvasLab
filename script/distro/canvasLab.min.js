/** 
 * canvasLab - HTML5 canvas drawing framework 
 * Copyright (C) 2023  Justin D. Byrne 
 * 
 * This library is free software; you can redistribute it and/or 
 * modify it under the terms of the GNU Library General Public 
 * License as published by the Free Software Foundation; either 
 * version 2 of the License, or (at your option) any later version. 
 * 
 * This library is distributed in the hope that it will be useful, 
 * but WITHOUT ANY WARRANTY; without even the implied warranty of 
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU 
 * Library General Public License for more details. 
 * 
 * You should have received a copy of the GNU Library General Public 
 * License along with this library; if not, write to the 
 * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, 
 * Boston, MA  02110-1301, USA. 
 * 
 * Byrne-Systems, hereby disclaims all copyright interest in 
 * the library 'canvasLab' (HTML5 canvas drawing framework) written 
 * by Justin D. Byrne. (justin@byrne-systems.com) 
 */ 

"use strict";const PROPERTY_BLOCKS={discrete:{alpha:{set(t){this._alpha=t<=1&&0<=t?t:this._alpha},get(){return this._alpha}},canvas:{set(t){this._canvas=t?this._isInDom(t)?document.getElementById(t).getContext("2d"):console.warn(`"${t}" is not a valid DOM element !`):window.canvaslab.canvas?document.getElementById(window.canvaslab.canvas).getContext("2d"):this._canvas},get(){return null!=this._canvas?this._canvas.canvas.id:void 0}},offset:{set(t){this._offset=this._isPoint(t)?t:this._offset},get(){return this._offset}},offsetX:{set(t){this._offset.x=t},get(){return this._offset.x}},offsetY:{set(t){this._offset.y=t},get(){return this._offset.y}},point:{set(t){this._point=this._isPoint(t)?new Point(t.x,t.y):this._point},get(){return this._point}},pointX:{set(t){this._point.x=t},get(){return this._point.x}},pointY:{set(t){this._point.y=t},get(){return this._point.y}},radius:{set(t){this._radius="number"==typeof t&&0<t?t:this._radius},get(){return this._radius}}},combined:{anchor:{set(t){this._anchor.type=this._isAnchor(t)?t:this._anchor.type,this._setAnchorPoint()},get(){return this._anchor}},area:{get(){return this.width*this.height}},aspect:{get(){return this._setAspect(),this._aspect}},aspectWidth:{get(){return this._aspect.width}},aspectHeight:{get(){return this._aspect.height}},canvas:{set(t){if(this._canvas=t?this._isInDom(t)?document.getElementById(t).getContext("2d"):this._isCanvasLabObject(t)?null:console.warn(`"${t}" is not a valid DOM element !`):document.getElementById(window.canvaslab.canvas).getContext("2d")?document.getElementById(window.canvaslab.canvas).getContext("2d"):this._canvas,0<this.length&&this._canvas instanceof CanvasRenderingContext2D)for(var s of this)s.canvas=this.canvas},get(){return null!=this._canvas?this._canvas.canvas.id:void 0}},center:{get(){var[t,s]=[this.width/2,this.height/2];return new Point(t,s)}},endPoint:{get(){return this[this.length-1].point}},perimeter:{get(){return 2*this.area}},start:{set(t){this._isPoint(t)&&(this._start=this.origin.start=t)},get(){return this._start}},end:{set(t){this._isPoint(t)&&(this._end=this.origin.end=t)},get(){return this._end}}}},UTILITIES={color:{cycle:{stroke(t,s,e,i=1){this._stroke._color._cycle(t,s,e,i,()=>this._clearCanvas(!0),()=>this.draw())},fill(t,s,e,i=1){this._fill.color._cycle(t,s,e,i,()=>this._clearCanvas(!0),()=>this.draw())},gradient(t,s,e,i,o=1){this._fill.gradient._stopColorCycle(t,s,e,i,o,()=>this._clearCanvas(!0),()=>this.draw())},stop(t,s,e,i,o,n,r){this.stops[i].color._cycle(t,s,e,o,n,r)}}},collection:{draw(t){if(null!=t&&(this.canvas=t),this._canvas instanceof CanvasRenderingContext2D)if(0<this.length){this._setAnchorPoint();for(var s of this)this._setPointOffset(s),this._drawOptionsPre(s,this.options),s.draw();this._drawOptionsPost()}else console.warn(`No ${this.constructor.name} exist to draw !`);else console.warn(`'canvas' property is not set for ${this.constructor.name} !`)},redraw(t,s={x:void 0,y:void 0},e=!0){[this.x,this.y]=[s.x,s.y],this._clearCanvas(e),this.draw(t)},drawAnchor(){var t=new Rectangle(new Point(this.x,this.y),new Aspect(5,5));t.fill.color=new Rgb(255,0,0),t.canvas=this.canvas,t.draw()},drawOptionsPost(){var t=new Aspect(this.width+20,this.height+20);this.options.border&&this._drawBorder(t),this.options.axis&&this._drawAxis(),this.options.anchor&&this._drawAnchor()},push(){for(let t=0;t<arguments.length;t++)arguments[t]instanceof this._storage.type?Array.prototype.push.apply(this,[arguments[t]]):this._isPoint(arguments[t])||console.error(`[ERROR] Argument ${t+1}, of type "${arguments[t].constructor.name}", is not a valid type !`)},setAnchorPoint(){switch(this._setAspect(),this._anchor=this.center,this.anchor.type){case"center":this.anchor.x-=this.width/2,this.anchor.y-=this.height/2;break;case"top":this.anchor.x-=this.width/2;break;case"topRight":this.anchor.x-=this.width;break;case"right":this.anchor.x-=this.width,this.anchor.y-=this.height/2;break;case"bottomRight":this.anchor.x-=this.width,this.anchor.y-=this.height;break;case"bottom":this.anchor.x-=this.width/2,this.anchor.y-=this.height;break;case"bottomLeft":this.anchor.y-=this.height;break;case"left":this.anchor.y-=this.height/2}},setPointOffset(t){t.x+=this.x,t.y+=this.y}},draw:{anchor(){var t=new Rectangle(new Point(this.x,this.y),new Aspect(5,5));t.fill.color=new Rgb(255,0,0),t.canvas=this.canvas,t.draw()},axis(t=20,s=new Rgb(245,80,50)){var e=new Lines;e.push(new Line,new Line),e.stroke.color=s,e.point=this.center,["Circles","Rectangles","Texts"].includes(this.constructor.name)&&([e.point.x,e.point.y]=[e.point.x+this.aspect.offset.x,e.point.y+this.aspect.offset.y]),e.canvas=(this instanceof Point?this.options._master:this).canvas,e[0].start=new Point(-t,0),e[0].end=new Point(t,0),e[1].start=new Point(0,-t),e[1].end=new Point(0,t),e.draw()},border(t,s=new Rgb(245,80,50)){this._isAspect(t)?(t=new Rectangle(this.center,t),["Circles","Rectangles","Texts"].includes(this.constructor.name)&&([t.x,t.y]=[t.x+this.aspect.offset.x,t.y+this.aspect.offset.y]),t.stroke.color=s,t.fill.color.alpha=0,t.canvas=(this instanceof Point?this.options._master:this).canvas,t.draw()):console.warn(`"${value}" is not a valid aspect !`)}},misc:{clearCanvas(t){var s=document.getElementById(this.canvas);t&&this._canvas.clearRect(0,0,s.width,s.height)},pushPop(t){let s=void 0;if(t instanceof this._storage.type)if(null!=this._canvas&&(t.canvas=this.canvas),0!=this.length){for(var e in this)if(this[e]instanceof this._storage.type){if(!this[e].isThere(t))break;s=e}null!=s?this.splice(s,1):this.push(t)}else this[0]=t;else console.warn(`${this.constructor.name} only accepts '${this._storage.type.name}' objects !`)},rotatePoint(t={x:x,y:y},s,e){var i=new Point,s=s%360;return i.x=t.x+Math.cos(s*Math.PI/180)*e,i.y=t.y+Math.sin(s*Math.PI/180)*e,i},showCoordinates(t=10,s=16){var e=new Text(this.point,`( ${this.x}, ${this.y} )`);e.canvas=this.canvas,e.size=s,e.options.shadow=!1,e.offset.y=t/2,e.options.shadow=!0,e.shadow.color=new Rgb(255,255,255),e.shadow.blur=1,e.shadow.x=e.shadow.y=1,e.draw()}},set:{all(t,s){var e=this.constructor.name.replace("Collection","").toLowerCase();if(this["_"+t]=s,0<this._master.length)for(var i of this._master)i[e][t]=s},shadow(){this._canvas.shadowBlur=this._shadow.blur,this._canvas.shadowOffsetX=this._shadow.x,this._canvas.shadowOffsetY=this._shadow.y,this._canvas.shadowColor=this._shadow.color.toCss()},fillType(){function t(t,s){for(var e of s)t.addColorStop(e.offset,e.color.toCss());return t}switch(this.fill.type){case"solid":this._canvas.fillStyle=this.fill.color.toCss();break;case"linear":var s=this._canvas.createLinearGradient(this.fill.gradient.start.x,this.fill.gradient.start.y,this.fill.gradient.end.x,this.fill.gradient.end.y);this._canvas.fillStyle=t(s,this.fill.gradient.stops);break;case"radial":s=this._canvas.createRadialGradient(this.fill.gradient.start.x,this.fill.gradient.start.y,this.fill.gradient.startRadius,this.fill.gradient.end.x,this.fill.gradient.end.y,this.fill.gradient.endRadius);this._canvas.fillStyle=t(s,this.fill.gradient.stops);break;case"conic":s=this._canvas.createConicGradient(this.fill.gradient.angle,this.fill.gradient.point.y,this.fill.gradient.point.x);this._canvas.fillStyle=t(s,this.fill.gradient.stops)}}},transition:{move(t,s,e=!1,i=!1){t=this._rotatePoint({x:this.x,y:this.y},t,s);[this.x,this.y]=[t.x,t.y],this._clearCanvas(i),e&&this.draw()},rotate(t,s=!0){var e,i;this._isDegree(t)&&([e,i]=[this.x,this.y],this._canvas.save(),this._canvas.translate(e,i),this._canvas.rotate(t%360*Math.PI/180),this._canvas.translate(-e,-i),this._clearCanvas(s),this.draw(),this._canvas.restore())}}},VALIDATION={is256(t){return"number"==typeof t&&0<=t&&t<=255},isAnchor(t){var s;for(s of["center","top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"])if(t===s)return!0;return!1},isAngle(t){return t instanceof Angle||"number"==typeof t&&t<=360},isAlign(t){var s;for(s of["center","top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"])if(t===s)return!0;return!1},isAlpha(t){return"number"==typeof t&&0<=t&&t<=1},isAspect(t){var s,e;return t instanceof Aspect||(s=2==Object.keys(t).length,e=!!t.hasOwnProperty("width")&&"number"==typeof t.width,t=!!t.hasOwnProperty("height")&&"number"==typeof t.height,e&&t&&s)},isBlur(t){return"number"==typeof t&&0<=t},isCanvasLabObject(t){return t instanceof Line||t instanceof Circle||t instanceof Rectangle||t instanceof Text},isColorName(t){return{A:["aliceblue","antiquewhite","aqua","aquamarine","azure"],B:["beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood"],C:["cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan"],D:["darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue"],E:[],F:["firebrick","floralwhite","forestgreen","fuchsia"],G:["gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow"],H:["honeydew","hotpink"],I:["indianred","indigo","ivory"],J:[],K:["khaki"],L:["lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen"],M:["magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin"],N:["navajowhite","navy","navyblue"],O:["oldlace","olive","olivedrab","orange","orangered","orchid"],P:["palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple"],Q:[],R:["red","rosybrown","royalblue"],S:["saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue"],T:["tan","teal","thistle","tomato","turquoise"],U:[],V:["violet"],W:["wheat","white","whitesmoke"],X:[],Y:["yellow","yellowgreen"],Z:[]}[t[0].toUpperCase()].includes(t)},isColorModel(t){return t instanceof Rgb},isDecimal(t){return"number"==typeof t&&0<=t&&t<=1},isDegree(t){return"number"==typeof t&&t<=360},isFillType(t){return["solid","linear","radial","conic","pattern"].includes(t)},isGradient(t){return t instanceof Linear||t instanceof Radial||t instanceof Conic},isInDom(t){return null!=document.getElementById(t)},isNumber(t){return"number"==typeof t&&!isNaN(t)},isPlan(value){function _getClassFunctions(i){let t=new Array,s=i;for(;t.push(...Object.getOwnPropertyNames(s)),s=Object.getPrototypeOf(s););return t=t.sort().filter((t,s,e)=>{if(t!=e[s+1]&&"function"==typeof i[t])return!0})}if(null==value)return!1;{let _instance=eval(`new ${value.constructor.name};`),_functions=_getClassFunctions(value),_point=Object.hasOwn(_instance,"_point"),_master=Object.hasOwn(_instance,"_master"),_init=_functions.includes("init");return _point&&_master&&_init}},isPoint(t){var s,e;return t instanceof Point||(s=2==Object.keys(t).length,e=!!t.hasOwnProperty("x")&&"number"==typeof t.x,t=!!t.hasOwnProperty("y")&&"number"==typeof t.y,s&&e&&t)},isRadian(t){return"number"==typeof t&&0<=t&&t<=6.283185307179586},isRadius(t){return"number"==typeof t&&0<t},isSegments(t){return!!Array.isArray(t)&&function(t){let s=void 0;for(var e of t)if(0==(s="number"==typeof e))break;return s}(t)},isStop(t){var s,e;return t instanceof Stop||(s="object"==typeof t&&!Array.isArray(t),e=!!t.hasOwnProperty("offset")&&VALIDATION.isNumber(t.offset),t=!!t.hasOwnProperty("color")&&VALIDATION.isColorModel(t.color),s&&e&&t)},isStrokeType(t){return"string"==typeof t&&["solid","dashed"].includes(t)},isWidth(t){return"number"==typeof t&&0<=t}};class canvasLab{_canvas=void 0;_canvases=void 0;_font=void 0;#application=new Application;constructor(t){this._isInDom=VALIDATION.isInDom,this._init(),this.canvas=t}set canvas(t){this._canvas=this._isInDom(t)?document.getElementById(t).getContext("2d"):this._canvas}get canvas(){return this._canvas.canvas.id}set canvases(t){t=this._isInDom(t)?document.getElementById(t).getContext("2d"):void 0;null==this._canvases&&(this._canvases=new Array),null!=t&&this._canvases.push(t)}get canvases(){return this._canvases}set font(t){this._font="string"==typeof t?t:this._font}get font(){return this._canvas.font}get dom(){return this.#application.dom}_isInDom(){}get center(){return new Point(this._canvas.canvas.clientWidth/2,this._canvas.canvas.clientHeight/2)}animate(t={duration:duration,timing:timing,draw:draw}){t&&(this.#application.animation=t)}_init(){var t=document.getElementsByTagName("canvas");if("object"==typeof t&&void 0===this._canvases)for(var s in t)0==s?this.canvas=t[s].id:this.canvases=t[s].id}}class Rgb{_red=0;_green=0;_blue=0;_alpha=1;constructor(t,s,e,i){this._is256=VALIDATION.is256,Object.defineProperty(this,"alpha",PROPERTY_BLOCKS.discrete.alpha),this.red=t,this.green=s,this.blue=e,this.alpha=void 0===i?1:i}set red(t){this._red=this._is256(t)?Math.round(t):this._red}get red(){return this._red}set green(t){this._green=this._is256(t)?Math.round(t):this._green}get green(){return this._green}set blue(t){this._blue=this._is256(t)?Math.round(t):this._blue}get blue(){return this._blue}_is256(){}_cycle(t,s,e,i,o,n){this._lerpRgb(t,s,e,i)}_lerp(t,s,e,i){return Math.round(t+(s-t)*e/i)}_lerpRgb(t,s,e,i){this._red=this._lerp(t.red,s.red,e,i),this._green=this._lerp(t.green,s.green,e,i),this._blue=this._lerp(t.blue,s.blue,e,i)}fade(t,s,e,i){return this._cycle(t,s,e,i),this}toCss(){return`rgb(${this.red} ${this.green} ${this.blue} / ${100*this.alpha}%)`}}class Options{_shadow=!1;_border=!1;_axis=!1;_points=!1;_anchor=!1;_coordinates=!1;_controlPoints=!1;_master=void 0;constructor(t,s,e,i,o,n,r){this._isCanvasLabObject=VALIDATION.isCanvasLabObject,this.shadow=t,this.border=s,this.axis=e,this.points=i,this.anchor=o,this.coordinates=n,this.controlPoints=r}set shadow(t){this._shadow="boolean"==typeof t?t:this._shadow}get shadow(){return this._shadow}set border(t){this._border="boolean"==typeof t?t:this._border}get border(){return this._border}set axis(t){this._axis="boolean"==typeof t?t:this._axis}get axis(){return this._axis}set anchor(t){this._anchor="boolean"==typeof t?t:this._anchor}get anchor(){return this._anchor}set coordinates(t){this._coordinates="boolean"==typeof t?t:this._coordinates}get coordinates(){return this._coordinates}set controlPoints(t){this._controlPoints="boolean"==typeof t?t:this._controlPoints}get controlPoints(){return this._controlPoints}set master(t){this._master=this._isCanvasLabObject(t)?t:this._master}get master(){return this._master}_isCanvasLabObject(){}}class Anchor{_point=new Point;_align="center";constructor(){this._isAlign=VALIDATION.isAlign,Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY)}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}set align(t){this._align=this._isAlign(t)?t:this._align}get align(){return this._align}_isAnchor(){}}class Angle{_start=0;_end=360;_clockwise=!0;constructor(t,s,e){this._isDegree=VALIDATION.isDegree,this._isRadian=VALIDATION.isRadian,this.start=t,this.end=s,this.clockwise=e}set start(t){this._start=this._isDegree(t)?t:this._start}get start(){return this._start}set end(t){this._end=this._isDegree(t)?t:this._end}get end(){return this._end}set clockwise(t){this._clockwise="boolean"==typeof t?t:this._clockwise}get clockwise(){return this._clockwise}_isDegree(){}_isRadian(){}_convert2Degree(t){return this._isRadian?t/(Math.PI/180):console.warn(t+" is not a radian value !")}_convert2Radian(t){return this._isDegree?t*(Math.PI/180):console.warn(t+" is not a degree value !")}get startInRadians(){return this._convert2Radian(this.start)}get endInRadians(){return this._convert2Radian(this.end)}}class Aspect{_width=0;_height=0;#offset=new Point;constructor(t,s){this._isPoint=VALIDATION.isPoint,this.width=t,this.height=s}set width(t){this._width="number"==typeof t&&0<t?t:this._width}get width(){return this._width}set height(t){this._height="number"==typeof t&&0<t?t:this._height}get height(){return this._height}get offset(){return this.#offset}_isPoint(){}get center(){return new Point(this.widthCenter,this.heightCenter)}get heightCenter(){return this.height/2}get widthCenter(){return this.width/2}}class ControlPoints{_p0=0;_p1=0;_p2=0;_p3=0;constructor(t,s,e,i){this._isNumber=VALIDATION.isNumber,this.p0=t,this.p1=s,this.p2=e,this.p3=i}set p0(t){this._p0=this._isNumber(t)?t:this._p0}get p0(){return this._p0}set p1(t){this._p1=this._isNumber(t)?t:this._p1}get p1(){return this._p1}set p2(t){this._p2=this._isNumber(t)?t:this._p2}get p2(){return this._p2}set p3(t){this._p3=this._isNumber(t)?t:this._p3}get p3(){return this._p3}_isNumber(){}}class Font{_type=void 0;_size=24;_weight="normal";_maxWidth=void 0;_offset=new Point;#_options={weight:["normal","bold","italic"]};set type(t){var s;this._type="string"==typeof t?t:this._type,void 0===t&&(window.canvaslab instanceof canvasLab?(t=/(\w+(\s))?(?<size>\d+)px\s(?<type>\w.+)/,s=canvaslab.font,this._type=t.test(s)?t.exec(s).groups.type:this._type):console.warn("canvaslab is not instantiated !"))}get type(){return this._type}set size(t){this._size="number"==typeof t?t:this._size}get size(){return this._size}set weight(t){var s,e=this._weight;for(s of this.#_options.weight)if(this._weight=t==s?t:this._weight,this._weight!=e)break}get weight(){return this._weight}set maxWidth(t){this._maxWidth="number"==typeof t?t:this._maxWidth}get maxWidth(){return this._maxWidth}get offset(){return this._offset}set font(t){this.font=/(\w+(-\w+?)?|[1-9][0][0]?)(\s?)\d{1,3}px\s\w.+/.test(t)?t:this.font}get font(){return`${this._weight} ${this._size}px `+this._type}}class Point{_x=0;_y=0;_canvas=void 0;#_options=new Options;constructor(t,s){this._isAspect=VALIDATION.isAspect,this._isInDom=VALIDATION.isInDom,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._rotatePoint=UTILITIES.misc.rotatePoint,Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.discrete.canvas),delete this.#_options._shadow,delete this.#_options._border,this.x=t,this.y=s}set x(t){this._x="number"!=typeof t||isNaN(t)?this._x:t}get x(){return this._x}set y(t){this._y="number"!=typeof t||isNaN(t)?this._y:t}get y(){return this._y}set canvas(t){}get canvas(){}get options(){return this.#_options}get center(){return new Point(this.x,this.y)}_isAspect(){}_isInDom(){}_drawAxis(){}_drawBorder(){}_rotatePoint(){}drawOptions(){var t=new Aspect(20,20);this._drawBorder(t),this._drawAxis()}invert(){var t=this.y;[this.y,this.x]=[this.x,t]}move(t,s){t=this._rotatePoint({x:this.x,y:this.y},t,s);[this.x,this.y]=[t.x,t.y]}}class Stop{_offset=void 0;_color=new Rgb;constructor(t,s){this._isColorModel=VALIDATION.isColorModel,this._isDecimal=VALIDATION.isDecimal,this.offset=t,this.color=s}set offset(t){this._offset=this._isDecimal(t)?t:this._offset}get offset(){return this._offset}set color(t){this._color=this._isColorModel(t)?t:this._color}get color(){return this._color}_isColorModel(){}_isDecimal(){}}class Conic{_point=new Point;_angle=0;_stops=new Array;constructor(t,s,e){this._isPoint=VALIDATION.isPoint,this._isRadian=VALIDATION.isRadian,this._isStop=VALIDATION.isStop,this._stopColorCycle=UTILITIES.color.cycle.stop,this.point=s,this.angle=t,this.stops=e}set angle(t){this._angle=this._isRadian(t)?t:this._angle}get angle(){return this._angle}set point(t){this._point=this._isPoint(t)?t:this._point}get point(){return this._point}set stops(t){if(Array.isArray(t))for(var s of t)this._isStop(s)?this._stops.push(s):console.warn("[ ERROR ]: value is not of type Array !")}get stops(){return this._stops}_isPoint(){}_isRadian(){}_isStop(){}_stopColorCycle(){}}class Linear{_start=new Point;_end=new Point;_stops=new Array;constructor(t,s,e){this._isColorModel=VALIDATION.isColorModel,this._isPoint=VALIDATION.isPoint,this._isStop=VALIDATION.isStop,this._stopColorCycle=UTILITIES.color.cycle.stop,this.start=t,this.end=s,this.stops=e}set start(t){this._start=this._isPoint(t)?t:this._start}get start(){return this._start}set end(t){this._end=this._isPoint(t)?t:this._end}get end(){return this._end}set stops(t){if(Array.isArray(t))for(var s of t)this._isStop(s)?this._stops.push(s):console.warn("[ ERROR ]: value is not of type Array !")}get stops(){return this._stops}_isColorModel(){}_isPoint(){}_isStop(){}_stopColorCycle(){}}class Radial{_start=new Point;_startRadius=0;_end=new Point;_endRadius=0;_stops=new Array;constructor(t,s,e,i,o){this._isPoint=VALIDATION.isPoint,this._isStop=VALIDATION.isStop,this._isColorModel=VALIDATION.isColorModel,this._isRadius=VALIDATION.isRadius,this._stopColorCycle=UTILITIES.color.cycle.stop,this.start=t,this.startRadius=s,this.end=e,this.endRadius=i,this.stops=o}set start(t){this._start=this._isPoint(t)?t:this._start}get start(){return this._start}set startRadius(t){this._startRadius=this._isRadius(t)?t:this._startRadius}get startRadius(){return this._startRadius}set end(t){this._end=this._isPoint(t)?t:this._end}get end(){return this._end}set endRadius(t){this._endRadius=this._isRadius(t)?t:this._endRadius}get endRadius(){return this._endRadius}set stops(t){if(Array.isArray(t))for(var s of t)this._isStop(s)?this._stops.push(s):console.warn("[ ERROR ]: value is not of type Array !")}get stops(){return this._stops}_isColorModel(){}_isPoint(){}_isRadius(){}_isStop(){}_stopColorCycle(){}}class Fill{_color=new Rgb(0,0,0,0);_type="solid";_gradient=void 0;_pattern=void 0;constructor(t,s,e){this._isColorModel=VALIDATION.isColorModel,this._isGradient=VALIDATION.isGradient,this._isFillType=VALIDATION.isFillType,this.color=t,this.type=s,this.gradient=e}set color(t){this._color=this._isColorModel(t)?t:this._color}get color(){return this._color}set type(t){this._type=this._isFillType(t)?t:this._type}get type(){return this._type}set gradient(t){this._gradient=this._isGradient(t)?t:this._gradient,this._type=this._isGradient(t)?t.constructor.name.toLowerCase():this._type}get gradient(){return this._gradient}get pattern(){return this._pattern}_isColorModel(){}_isGradient(){}_isFillType(){}}class Shadow{_color=new Rgb;_blur=3;_offset=new Point;constructor(t,s,e={x:void 0,y:void 0}){this._isColorModel=VALIDATION.isColorModel,this._isBlur=VALIDATION.isBlur,this._isPoint=VALIDATION.isPoint,Object.defineProperty(this,"offset",PROPERTY_BLOCKS.discrete.offset),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.offsetX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.offsetY),this.color=t,this.blur=s,this.offset=e}set color(t){this._color=this._isColorModel(t)?t:this._color}get color(){return this._color}set blur(t){this._blur=this._isBlur(t)?t:this._blur}get blur(){return this._blur}set offset(t){}get offset(){}set x(t){}get x(){}set y(t){}get y(){}_isColorModel(){}_isBlur(){}_isPoint(){}}class Stroke{_color=new Rgb;_type="solid";_segments=[5,5];_width=1;constructor(t,s,e,i){this._isColorModel=VALIDATION.isColorModel,this._isStrokeType=VALIDATION.isStrokeType,this._isSegments=VALIDATION.isSegments,this._isWidth=VALIDATION.isWidth,this.color=t,this.type=s,this.segments=e,this.width=i}set type(t){this._type=this._isStrokeType(t)?t:this._type}get type(){return this._type}set segments(t){this._isSegments(t)?[this._segments,this._type]=[t,"dashed"]:[this._segments,this._type]=[this._segments,"solid"]}get segments(){return this._segments}set color(t){this._color=this._isColorModel(t)?t:this._color}get color(){return this._color}set width(t){this._width=this._isWidth(t)?t:this._width}get width(){return this._width}_isColorModel(){}_isSegments(){}_isStrokeType(){}_isWidth(){}}class OptionsCollection{_shadow=!1;_border=!1;_axis=!1;_points=!1;_coordinates=!1;_controlPoints=!1;constructor(t,s,e,i,o){this._setAll=UTILITIES.set.all,this.shadow=t,this.border=s,this.axis=e,this.points=i,this.coordinates=o}set shadow(t){"boolean"==typeof t&&this._setAll("shadow",t)}get shadow(){return this._shadow}set border(t){"boolean"==typeof t&&this._setAll("border",t)}get border(){return this._border}set axis(t){"boolean"==typeof t&&this._setAll("axis",t)}get axis(){return this._axis}set coordinates(t){"boolean"==typeof t&&this._setAll("coordinates",t)}get coordinates(){return this._coordinates}set controlPoints(t){"boolean"==typeof t&&this._setAll("controlPoints",t)}get controlPoints(){return this._controlPoints}_setAll(){}}class PointCollection{_x=0;_y=0;#_options=new OptionsCollection;constructor(){this._setAll=UTILITIES.set.all,delete this.#_options._shadow,delete this.#_options._border}set x(t){"number"==typeof t&&this._setAll("x",t)}get x(){return this._x}set y(t){"number"==typeof t&&this._setAll("y",t)}get y(){return this._y}get options(){return this.#_options}_setAll(){}invert(){var t=this.y;[this.y,this.x]=[this.x,t]}}class ShadowCollection{_color=new Rgb;_blur=3;_offset=new Point;constructor(){this._isColorModel=VALIDATION.isColorModel,this._isBlur=VALIDATION.isBlur,this._isPoint=VALIDATION.isPoint,this._setAll=UTILITIES.set.all}set color(t){this._isColorModel(t)&&this._setAll("color",t)}get color(){return this._color}set blur(t){this._isBlur(t)&&this._setAll("blur",t)}get blur(){return this._blur}set offset(t){this._isPoint(t)&&this._setAll("offset",t)}get offset(){return this._offset}set x(t){this._offset.x=t}get x(){return this._offset.x}set y(t){this._offset.y=t}get y(){return this._offset.y}_isBlur(){}_isPoint(){}_setAll(){}}class StrokeCollection{_color=new Rgb;_type="solid";_segments=[5,5];_width=2;_master=void 0;constructor(){this._isColorModel=VALIDATION.isColorModel,this._isStrokeType=VALIDATION.isStrokeType,this._isSegments=VALIDATION.isSegments,this._isWidth=VALIDATION.isWidth,this._setAll=UTILITIES.set.all}set color(t){this._isColorModel(t)&&this._setAll("color",t)}get color(){return this._color}set type(t){this._isStrokeType(t)&&this._setAll("type",t)}get type(){return this._type}set segments(t){this._isSegments(t)&&this._setAll("segments",t)}get segments(){return this._segments}set width(t){this._isWidth(t)&&this._setAll("width",t)}get width(){return this._width}set master(t){this._master="object"==typeof t?t:console.error(`[ERROR] "${t.constructor.name}", is not a valid type !`)}_isColorModel(){}_isSegments(){}_isStrokeType(){}_isWidth(){}_setAll(){}}class Circle{_point=new Point;_radius=25;_angle=new Angle;_stroke=new Stroke;_fill=new Fill;_shadow=new Shadow;_canvas=void 0;#anchor=new Anchor;#options=new Options;constructor(t={x:void 0,y:void 0},s,e={start:void 0,end:void 0,clockwise:void 0},i={color:void 0,type:void 0,segments:void 0,width:void 0},o={color:void 0,type:void 0},n={color:void 0,blur:void 0,offset:{x:void 0,y:void 0}},r=void 0){this._isAspect=VALIDATION.isAspect,this._isAnchor=VALIDATION.isAnchor,this._isDegree=VALIDATION.isDegree,this._isInDom=VALIDATION.isInDom,this._isNumber=VALIDATION.isNumber,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAnchor=UTILITIES.draw.anchor,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._rotatePoint=UTILITIES.misc.rotatePoint,this._setFillType=UTILITIES.set.fillType,this._setShadow=UTILITIES.set.shadow,this.fillColorCycle=UTILITIES.color.cycle.fill,this.gradientColorCycle=UTILITIES.color.cycle.gradient,this.move=UTILITIES.transition.move,this.redraw=UTILITIES.draw.redraw,this.rotate=UTILITIES.transition.rotate,this.showCoordinates=UTILITIES.misc.showCoordinates,this.strokeColorCycle=UTILITIES.color.cycle.stroke,Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.discrete.canvas),Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY),delete this.#options._controlPoints,delete this.#options._points,delete this.#options._master,this.point=t,this.radius=s,this._angle=new Angle(e.start,e.end,e.clockwise),this._stroke=new Stroke(i.color,i.type,i.segments,i.width),this._fill=new Fill(o.color,o.type),this._shadow=new Shadow(n.color,n.blur,{x:n.offset.x,y:n.offset.y}),this.canvas=r,this.#options.shadow=null!=n.offset.x&&null!=n.offset.y}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}set radius(t){this._radius=this._isNumber(t)?t:this._radius}get radius(){return this._radius}get angle(){return this._angle}get stroke(){return this._stroke}get fill(){return this._fill}get shadow(){return this._shadow}set canvas(t){}get canvas(){}get anchor(){return this.#anchor}get options(){return this.#options}_isAnchor(){}_isAspect(){}_isDegree(){}_isInDom(){}_isNumber(){}_isPoint(){}isThere(t){if(t instanceof this.constructor)return this.point.x==t.point.x&&this.point.y==t.point.y&&this.radius==t.radius;console.warn(`"${t.constructor.name}" is not of type `+this.constructor.name)}_clearCanvas(){}_drawAnchor(){}_drawAxis(){}_drawBorder(){}_drawOptions(){var t=this.radius+20,s=new Aspect(this.radius+t,this.radius+t);this.#options.border&&this._drawBorder(s),this.#options.axis&&this._drawAxis(t),this.#options.anchor&&this._drawAnchor(),this.#options.coordinates&&this.showCoordinates()}_rotatePoint(){}_setAnchorPoint(){switch([this.#anchor.x,this.#anchor.y]=[this.x,this.y],this.anchor.type){case"center":break;case"top":this.anchor.y+=this.radius;break;case"topRight":this.anchor.x-=this.radius,this.anchor.y+=this.radius;break;case"right":this.anchor.x-=this.radius;break;case"bottomRight":this.anchor.x-=this.radius,this.anchor.y-=this.radius;break;case"bottom":this.anchor.y-=this.radius;break;case"bottomLeft":this.anchor.x+=this.radius,this.anchor.y-=this.radius;break;case"left":this.anchor.x+=this.radius;break;case"topLeft":this.anchor.x+=this.radius,this.anchor.y+=this.radius}}_setFillType(){}_setShadow(){}get area(){return Math.PI*Math.pow(this.radius,2)}get diameter(){return 2*this.radius}get center(){this._setAnchorPoint();var t=this.x-(this.x-this.anchor.x),s=this.y-(this.y-this.anchor.y);return new Point(t,s)}get circumference(){return Math.PI*this.diameter()}fillColorCycle(){}gradientColorCycle(){}rotate(){}showCoordinates(){}strokeColorCycle(){}draw(t){null!=t&&(this.canvas=t),this._canvas instanceof CanvasRenderingContext2D?(this._setAnchorPoint(),this.#options.shadow&&this._setShadow(),this._canvas.strokeStyle=this.stroke.color.toCss(),this._setFillType(),this._canvas.lineWidth=this.stroke.width,this._canvas.setLineDash("solid"===this.stroke.type?new Array:this.stroke.segments),this._canvas.beginPath(),this._canvas.arc(this.anchor.x,this.anchor.y,this.radius,this.angle.startInRadians,this.angle.endInRadians,!this.angle.clockwise),this._canvas.stroke(),this._canvas.fill(),this.#options.shadow&&(this._canvas.shadowColor=new Rgb(0,0,0,0).toCss()),this._drawOptions()):console.warn(`'canvas' property is not set for ${this.constructor.name} !`)}redraw(){}}class Line{_start=new Point;_end=new Point;_stroke=new Stroke;_shadow=new Shadow;_lineCap="round";_canvas=void 0;#options=new Options;#controlPoints=new ControlPoints;constructor(t={x:void 0,y:void 0},s={x:void 0,y:void 0},e={color:void 0,type:void 0,segments:void 0,width:void 0},i={color:void 0,blur:void 0,offset:{x:void 0,y:void 0}},o=void 0,n){var r;this._isAspect=VALIDATION.isAspect,this._isDegree=VALIDATION.isDegree,this._isInDom=VALIDATION.isInDom,this._isNumber=VALIDATION.isNumber,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._rotatePoint=UTILITIES.misc.rotatePoint,this._setShadow=UTILITIES.set.shadow,this.strokeColorCycle=UTILITIES.color.cycle.stroke,Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.discrete.canvas),null!=t&&(this._isPoint(t)&&([this.start.x,this.end.x]=[t.x,s.x]),this._isNumber(t))&&(this.start.y=s.y-(r=t/2),this.end.y=s.y+r,this.start.x=this.end.x=s.x),null!=s&&(this._isPoint(s)&&([this.start.y,this.end.y]=[t.y,s.y]),this._isNumber(s))&&(this.start.x=t.x-(r=s/2),this.end.x=t.x+r,this.start.y=this.end.y=t.y),this._stroke=new Stroke(e.color,e.type,e.segments,e.width),this._shadow=new Shadow(i.color,i.blur,{x:i.offset.x,y:i.offset.y}),this.lineCap=o,this.canvas=n,this.#options.shadow=null!=i.offset.x&&null!=i.offset.y,((this.#options.master=this)._start.options.master=this)._end.options.master=this,Object.defineProperty(this.#options,"points",{set(t){this._points="boolean"==typeof t?t:this.#options.points,this._master._start.options.points=t,this._master._end.options.points=t},get(){return this._points}})}set start(t){this._start=this._isPoint(t)?t:this._start}get start(){return this._start}set end(t){this._end=this._isPoint(t)?t:this._end}get end(){return this._end}get stroke(){return this._stroke}get shadow(){return this._shadow}set lineCap(t){this._lineCap="butt"===t||"round"===t||"square"===t?t:this._lineCap}get lineCap(){return this._lineCap}set canvas(t){}get canvas(){}get options(){return this.#options}get controlPoints(){return this.#controlPoints}get center(){var t=this.start.x>this.end.x?this.end.x+(this.start.x-this.end.x)/2:this.start.x+(this.end.x-this.start.x)/2,s=this.start.y>this.end.y?this.end.y+(this.start.y-this.end.y)/2:this.start.y+(this.end.y-this.start.y)/2;return new Point(t,s)}#_setPath(){0!=this.controlPoints.p0||0!=this.controlPoints.p1||0!=this.controlPoints.p2||0!=this.controlPoints.p3?this._canvas.bezierCurveTo(this.controlPoints.p0+this.start.x,this.controlPoints.p1+this.start.y,this.controlPoints.p2+this.end.x,this.controlPoints.p3+this.end.y,this.end.x,this.end.y):this._canvas.lineTo(this.end.x,this.end.y)}_isAspect(){}_isDegree(){}_isInDom(){}_isNumber(){}_isPoint(){}isThere(t){var s,e,i,o;if(t instanceof this.constructor)return s=this.start.x+" "+this.start.y,e=this.end.x+" "+this.end.y,i=t.start.x+" "+t.start.y,o=t.end.x+" "+t.end.y,s==i&&e==o||s==o&&e==i;console.warn(`"${t.constructor.name}" is not of type `+this.constructor.name)}_clearCanvas(){}_drawAxis(){}_drawBorder(){}_drawOptions(){var t=new Aspect(this.end.x-this.start.x+20,this.end.y-this.start.y+20);this.#options.border&&this._drawBorder(t),this.#options.axis&&this._drawAxis(),this.#options.points&&this.drawPoints(),this.#options.coordinates&&this.showCoordinates(),this.#options.controlPoints&&this.showControlPoints()}_rotatePoint(){}_setShadow(){}curve(t,s,e,i){this.controlPoints.p0=t,this.controlPoints.p1=s,this.controlPoints.p2=e,this.controlPoints.p3=i}drawPoints(){this._start.drawOptions(),this._end.drawOptions()}move(t,s,e=!1,i=!1){var o=this._rotatePoint({x:this.start.x,y:this.start.y},t,s),t=this._rotatePoint({x:this.end.x,y:this.end.y},t,s);[this.start.x,this.start.y]=[o.x,o.y],[this.end.x,this.end.y]=[t.x,t.y],this._clearCanvas(i),e&&this.draw()}rotate(t,s="center",e=!0){if(this._isDegree(t)){var i=new Point;switch(s){case"start":[i.x,i.y]=[this.start.x,this.start.y];break;case"end":[i.x,i.y]=[this.end.x,this.end.y];break;case"center":[i.x,i.y]=[.5*(this.start.x+this.end.x),.5*(this.start.y+this.end.y)];break;default:console.warn(`"${s}" is not a valid 'anchor' variable !`)}this._canvas.save(),this._canvas.translate(i.x,i.y),this._canvas.rotate(t%360*Math.PI/180),this._canvas.translate(-i.x,-i.y),this._clearCanvas(e),this.draw(),this._canvas.restore()}}showControlPoints(t=10,s=16){var e=new Point(this.start.x,this.start.y),i=new Point(this.controlPoints.p0+this.start.x,this.controlPoints.p1+this.start.y),o=new Point(this.controlPoints.p2+this.end.x,this.controlPoints.p3+this.end.y),n=new Point(this.end.x,this.end.y),r=new Text(i.x,i.y,`( ${this.#controlPoints.p0}, ${this.#controlPoints.p1} )`),a=new Text(o.x,o.y,`( ${this.#controlPoints.p3}, ${this.#controlPoints.p4} )`),s=(r.canvas=a.canvas=this.canvas,r.size=a.size=s,r.offset.y=a.offset.y=-2*t,r.stroke.color=a.stroke.color=new Rgb(255,0,0),r.options.shadow=a.options.shadow=!0,r.shadow.color=a.shadow.color=new Rgb(255,255,255),r.shadow.blur=a.shadow.blur=1,r.shadow.x=a.shadow.x=r.shadow.y=a.shadow.y=1,r.draw(),a.draw(),new Rgb(255,0,0)),t=new Rgb(0,0,255),r=new Rgb(0,255,0),a=new Line(e,i),e=new Line(o,n),n=new Line(i,o),r=(new Lines(a,e,n),a.stroke.type=e.stroke.type=n.stroke.type=1,a.stroke.segments=e.stroke.segments=n.stroke.segments=[2,4],a.canvas=e.canvas=n.canvas=this.canvas,[a.stroke.color,e.stroke.color,n.stroke.color]=[s,t,r],a.draw(),e.draw(),n.draw(),new Circle(i)),a=new Circle(o);r.radius=a.radius=3,r.stroke.color.alpha=a.stroke.color.alpha=0,r.canvas=a.canvas=this.canvas,[r.fill.color,a.fill.color]=[s,t],r.draw(),a.draw()}showCoordinates(t=10,s=16){var e=new Text(this.start,`( ${this.start.x}, ${this.start.y} )`),i=new Text(this.end,`( ${this.end.x}, ${this.end.y} )`);e.canvas=i.canvas=this.canvas,e.size=i.size=s,e.options.shadow=i.options.shadow=!1,e.offset.y=i.offset.y=-2*t,e.options.shadow=i.options.shadow=!0,e.shadow.color=i.shadow.color=new Rgb(255,255,255),e.shadow.blur=i.shadow.blur=1,e.shadow.x=i.shadow.x=e.shadow.y=i.shadow.y=1,e.draw(),i.draw()}strokeColorCycle(){}draw(t){null!=t&&(this.canvas=t),this._canvas instanceof CanvasRenderingContext2D?(this.#options.shadow&&this._setShadow(),this._canvas.strokeStyle=this.stroke.color.toCss(),this._canvas.lineCap=this.lineCap,this._canvas.lineWidth=this.stroke.width,this._canvas.setLineDash("solid"===this.stroke.type?new Array:this.stroke.segments),this._canvas.beginPath(),this._canvas.moveTo(this.start.x+.5,this.start.y+.5),this.#_setPath(),this._canvas.stroke(),this.#options.shadow&&(this._canvas.shadowColor=new Rgb(0,0,0,0).toCss()),this._drawOptions()):console.warn(`'canvas' property is not set for ${this.constructor.name} !`)}redraw(t,s={x:void 0,y:void 0},e={x:void 0,y:void 0},i=!0){[this.start.x,this.start.y]=[s.x,s.y],[this.end.x,this.end.y]=[e.x,e.y],this._clearCanvas(i),this.draw(t)}}class Rectangle{_point=new Point;_aspect=new Aspect;_stroke=new Stroke;_fill=new Fill;_shadow=new Shadow;_canvas=void 0;#anchor=new Anchor;#options=new Options;constructor(t={x:void 0,y:void 0},s={width:void 0,height:void 0},e={color:void 0,type:void 0,segments:void 0,width:void 0},i={color:void 0,type:void 0},o={color:void 0,blur:void 0,offset:{x:void 0,y:void 0}},n){this._isAspect=VALIDATION.isAspect,this._isDegree=VALIDATION.isDegree,this._isInDom=VALIDATION.isInDom,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAnchor=UTILITIES.draw.anchor,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._rotatePoint=UTILITIES.misc.rotatePoint,this._setFillType=UTILITIES.set.fillType,this._setShadow=UTILITIES.set.shadow,this.fillColorCycle=UTILITIES.color.cycle.fill,this.gradientColorCycle=UTILITIES.color.cycle.gradient,this.move=UTILITIES.transition.move,this.redraw=UTILITIES.draw.redraw,this.rotate=UTILITIES.transition.rotate,this.showCoordinates=UTILITIES.misc.showCoordinates,this.strokeColorCycle=UTILITIES.color.cycle.stroke,Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.discrete.canvas),Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY),delete this.#options._controlPoints,delete this.#options._points,delete this.#options._master,this.point=t,this.width=null!=s.width?s.width:50,this.height=null!=s.height?s.height:50,this._stroke=new Stroke(e.color,e.type,e.segments,e.width),this._fill=new Fill(i.color,i.type),this._shadow=new Shadow(o.color,o.blur,o.offset),this.canvas=n,this.#options.shadow=null!=o.offset.x&&null!=o.offset.y}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}set aspect(t){this._aspect=this._isAspect(t)?t:this._aspect}get aspect(){return this._aspect}set width(t){this._aspect.width="number"==typeof t&&0<t?t:this._aspect._width}get width(){return this._aspect.width}set height(t){this._aspect.height="number"==typeof t&&0<t?t:this._aspect._height}get height(){return this._aspect.height}get stroke(){return this._stroke}get fill(){return this._fill}get shadow(){return this._shadow}set canvas(t){}get canvas(){}get anchor(){return this.#anchor}get options(){return this.#options}_isAspect(){}_isDegree(){}_isInDom(){}_isPoint(){}isThere(t){if(t instanceof this.constructor)return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height;console.warn(`"${t.constructor.name}" is not of type `+this.constructor.name)}_clearCanvas(){}_drawAnchor(){}_drawAxis(){}_drawBorder(){}_drawOptions(){var t=new Aspect(this.width+20,this.height+20);this.#options.border&&this._drawBorder(t),this.#options.axis&&this._drawAxis(),this.#options.anchor&&this._drawAnchor(),this.#options.coordinates&&this.showCoordinates()}_rotatePoint(){}_setAnchorPoint(){switch([this.#anchor.x,this.#anchor.y]=[this.x,this.y],this.anchor.align){case"center":this.anchor.x-=this.width/2,this.anchor.y-=this.height/2;break;case"top":this.anchor.x-=this.width/2;break;case"topRight":this.anchor.x-=this.width;break;case"right":this.anchor.x-=this.width,this.anchor.y-=this.height/2;break;case"bottomRight":this.anchor.x-=this.width,this.anchor.y-=this.height;break;case"bottom":this.anchor.x-=this.width/2,this.anchor.y-=this.height;break;case"bottomLeft":this.anchor.y-=this.height;break;case"left":this.anchor.y-=this.height/2}}_setFillType(){}_setShadow(){}get area(){return this.width*this.height}get center(){var t=this.x-(this.x-this.anchor.x)+this.width/2,s=this.y-(this.y-this.anchor.y)+this.height/2;return new Point(t,s)}fillColorCycle(){}gradientColorCycle(){}move(){}get perimeter(){return 2*this.area}rotate(){}showCoordinates(){}strokeColorCycle(){}draw(t){null!=t&&(this.canvas=t),this._canvas instanceof CanvasRenderingContext2D?(this._setAnchorPoint(),this.#options.shadow&&this._setShadow(),this._canvas.strokeStyle=this.stroke.color.toCss(),this._setFillType(),this._canvas.lineWidth=this.stroke.width,this._canvas.setLineDash("solid"===this.stroke.type?new Array:this.stroke.segments),this._canvas.beginPath(),this._canvas.rect(this.anchor.x,this.anchor.y,this.width,this.height),this._canvas.stroke(),this._canvas.fill(),this.#options.shadow&&(this._canvas.shadowColor=new Rgb(0,0,0,0).toCss()),this._drawOptions()):console.warn(`'canvas' property is not set for ${this.constructor.name} !`)}redraw(){}}class Text extends Font{_point=new Point;_text=void 0;_stroke=new Stroke;_fill=new Fill;_shadow=new Shadow;_canvas=void 0;#options=new Options;constructor(t={x:void 0,y:void 0},s,e,i,o,n,r={x:void 0,y:void 0},a={color:void 0,type:void 0,segments:void 0,width:void 0},h={color:void 0,type:void 0},c={color:void 0,blur:void 0,offset:{x:void 0,y:void 0}},d){super(),this._isDegree=VALIDATION.isDegree,this._isInDom=VALIDATION.isInDom,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAnchor=UTILITIES.draw.anchor,this._rotatePoint=UTILITIES.misc.rotatePoint,this._setShadow=UTILITIES.set.shadow,this.fillColorCycle=UTILITIES.color.cycle.fill,this.move=UTILITIES.transition.move,this.redraw=UTILITIES.draw.redraw,this.rotate=UTILITIES.transition.rotate,this.showCoordinates=UTILITIES.misc.showCoordinates,this.strokeColorCycle=UTILITIES.color.cycle.stroke,Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.discrete.canvas),Object.defineProperty(this,"offset",PROPERTY_BLOCKS.discrete.offset),Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY),a.width=void 0===a.width?0:a.width,h.color=void 0===h.color?new Rgb(0,0,0):h.color,this.point=t,this.text=s,super.type=e,super.size=i,super.weight=o,super.maxWidth=n,super.offset.x=r.x,super.offset.y=r.y,this._stroke=new Stroke(a.color,a.type,a.segments,a.width),this._fill=new Fill(h.color,h.type),this._shadow=new Shadow(c.color,c.blur,{x:c.offset.x,y:c.offset.y}),this.canvas=d,this.#options.shadow=null!=c.offset.x&&null!=c.offset.y}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}set text(t){this._text="string"==typeof t?t:void 0}get text(){return this._text}get stroke(){return this._stroke}get fill(){return this._fill}get shadow(){return this._shadow}set canvas(t){}get canvas(){}get options(){return this.#options}set type(t){super.type=t}get type(){return super.type}set size(t){super.size=t}get size(){return super.size}set weight(t){super.weight=t}get weight(){return super.weight}set maxWidth(t){super.maxWidth=null==t&&null!=this._canvas?this._canvas.measureText(t):t}get maxWidth(){return super.maxWidth}set offset(t){}get offset(){}get font(){return super.font}_isDegree(){}_isInDom(){}_isPoint(){}_clearCanvas(){}_rotatePoint(){}_setShadow(){}_drawAnchor(){}_drawAxis(t=10){var s=new Rgb(245,80,50,1),e=super.size,i=this._canvas.measureText(this.text).width,o=e-t/2,i=new Aspect(i+t,o),o=new Point(this.x-i.width/2-2*t,this.y-i.height/2.5),n=new Point(this.x+i.width/2+2*t,this.y-i.height/2.5),t=new Point(this.x,this.y-i.height-t),i=new Point(this.x,this.y+i.height-e/2),e=new Line(o,n,{color:s,type:"solid",segments:void 0,width:1},void 0,void 0,this.canvas),o=new Line(t,i,{color:s,type:"solid",segments:void 0,width:1},void 0,void 0,this.canvas);e.draw(),o.draw()}_drawBorder(t=10){var s=new Rgb(245,80,50,1),e=new Rgb(0,0,0,0),i=super.size,o=this._canvas.measureText(this.text).width,n=i-t/2,o=new Aspect(o+t,n),n=this.y-n/(60<i?3:30<i?3.5:4.5)-t/2,i=new Point(this.x,n);new Rectangle(i,o,{color:s,type:"solid",segments:void 0,width:1},{color:e,type:"solid"},void 0,this.canvas).draw()}_drawOptions(){this.#options.border&&this._drawBorder(),this.#options.axis&&this._drawAxis(),this.#options.anchor&&this._drawAnchor(),this.#options.coordinates&&this.showCoordinates()}fillColorCycle(){}move(){}rotate(){}showCoordinates(){}strokeColorCycle(){}draw(t,s=0){null!=t&&(this.canvas=t),this._canvas instanceof CanvasRenderingContext2D?(this.#options.shadow&&this._setShadow(),[this.x,this.y]=[this.x+this.offset.x,this.y+this.offset.y],this._canvas.font=this.font,this._canvas.textAlign="center",this._canvas.fillStyle=this.fill.color.toCss(),this._canvas.fillText(this.text,this.x,this.y,this.maxWidth),0<this.stroke.width&&(t=this._canvas.lineWidth,this._canvas.lineWidth=this.stroke.width,this._canvas.strokeStyle=this.stroke.color.toCss(),this._canvas.strokeText(this.text,this.x,this.y,this.maxWidth),this._canvas.lineWidth=t),this.#options.shadow&&(this._canvas.shadowColor=new Rgb(0,0,0,0).toCss()),this._drawOptions()):console.warn(`'canvas' property is not set for ${this.constructor.name} !`)}redraw(){}}class Circles extends Array{_point=new Point;_stroke=new StrokeCollection;_shadow=new ShadowCollection;_canvas=void 0;_aspect=new Aspect;_anchor=new Anchor;#options=new Options;_storage={type:Circle};constructor(t={x:void 0,y:void 0},s){super(),this._isAspect=VALIDATION.isAspect,this._isCanvasLabObject=VALIDATION.isCanvasLabObject,this._isInDom=VALIDATION.isInDom,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAnchor=UTILITIES.collection.drawAnchor,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._drawOptionsPost=UTILITIES.collection.drawOptionsPost,this._setAnchorPoint=UTILITIES.collection.setAnchorPoint,this._setPointOffset=UTILITIES.collection.setPointOffset,this.draw=UTILITIES.collection.draw,this.push=UTILITIES.collection.push,this.redraw=UTILITIES.collection.redraw,Object.defineProperty(this,"anchor",PROPERTY_BLOCKS.combined.anchor),Object.defineProperty(this,"area",PROPERTY_BLOCKS.combined.area),Object.defineProperty(this,"aspect",PROPERTY_BLOCKS.combined.aspect),Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.combined.canvas),Object.defineProperty(this,"center",PROPERTY_BLOCKS.combined.center),Object.defineProperty(this,"endPoint",PROPERTY_BLOCKS.combined.endPoint),Object.defineProperty(this,"perimeter",PROPERTY_BLOCKS.combined.perimeter),Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"width",PROPERTY_BLOCKS.combined.aspectWidth),Object.defineProperty(this,"height",PROPERTY_BLOCKS.combined.aspectHeight),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY),this.point=t,this.canvas=s}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}get stroke(){return this._stroke}get shadow(){return this._shadow}get options(){return this.#options}set canvas(t){}get canvas(){}get aspect(){}get width(){}get height(){}set anchor(t){}get anchor(){}_isAspect(){}_isCanvasLabObject(){}_isInDom(){}_isPoint(){}_drawAnchor(){}_drawAxis(){}_drawBorder(){}_drawOptionsPost(){}_drawOptionsPre(t,s){var e;for(e of["shadow","points","controlPoints","coordinates"])s[e]&&(t.options[e]=!0)}_setAnchorPoint(){}_setAspect(){var[t,s]=[2*this._canvas.canvas.clientWidth,2*this._canvas.canvas.clientHeight];let[e,i]=[t,s],[o,n]=[-t,-s];if(0<this.length)for(var r of this)e=r.x-r.radius<e?r.x-r.radius:e,o=r.x+r.radius>o?r.x+r.radius:o,i=r.y-r.radius<i?r.y-r.radius:i,n=r.y+r.radius>n?r.y+r.radius:n;else console.warn(`No ${this.constructor.name} exist to draw !`);[this._aspect.width,this._aspect.height]=[o-e,n-i],[this._aspect.offset.x,this._aspect.offset.y]=[e,i]}_setPointOffset(){}get area(){}get center(){}get endPoint(){}get perimeter(){}push(){}draw(){}redraw(){}}class Group extends Array{_point=new Point;_canvas=void 0;_plan=void 0;_lines=new Lines;_circles=new Circles;_rectangles=new Rectangles;_texts=new Texts;#storage={types:["lines","circles","rectangles","texts"]};constructor(t={x:void 0,y:void 0},s,e){super(),this._isCanvasLabObject=VALIDATION.isCanvasLabObject,this._isInDom=VALIDATION.isInDom,this._isPlan=VALIDATION.isPlan,this._isPoint=VALIDATION.isPoint,this.point=t,this.canvas=s,this.plan=e}set point(t){this._point=this._isPoint(t)?t:this._point}get point(){return this._point}set x(t){this._point.x=t}get x(){return this._point.x}set y(t){this._point.y=t}get y(){return this._point.y}set canvas(t){this._canvas=t?this._isInDom(t)?document.getElementById(t).getContext("2d"):this._isCanvasLabObject(t)?null:console.warn(`"${t}" is not a valid DOM element !`):document.getElementById(window.canvaslab.canvas).getContext("2d")?document.getElementById(window.canvaslab.canvas).getContext("2d"):this._canvas;for(var s of this.#storage.types)if(0<this[s].length&&this._canvas instanceof CanvasRenderingContext2D)for(var e of this[s])e.canvas=this.canvas}get canvas(){return null!=this._canvas?this._canvas.canvas.id:void 0}set plan(t){this._isPlan(t)&&([this._plan,this._plan._master]=[t,this],this._plan.init(),this._setAllCanvases())}get plan(){return this._plan}get lines(){return this._lines}get circles(){return this._circles}get rectangles(){return this._rectangles}get texts(){return this._texts}_isCanvasLabObject(){}_isInDom(){}_isPlan(){}_isPoint(){}_setAllCanvases(){if(this._canvas)for(var t of this.#storage.types)this[t].length&&(this[t].canvas=this.canvas)}_setPointOffset(t){t.x+=this.x,t.y+=this.y}push(t){for(var s of arguments)switch(s.constructor.name){case"Line":this._lines.push(s);break;case"Circle":this._circles.push(s);break;case"Rectangle":this._rectangles.push(s);break;case"Lines":for(var e of s)this._lines.push(e);break;case"Circles":for(var i of s)this._circles.push(i);break;case"Rectangles":for(var o of s)this._rectangles.push(o);break;default:console.warn(`"${s}" is not a supported type to be pushed into `+this.constructor.name)}}pop(t){for(var s of arguments)switch(s.constructor.name){case"Line":this._lines.push(s);break;case"Circle":this._circles.push(s);break;case"Rectangle":this._rectangles.push(s);break;case"Lines":for(var e of s)this._lines.push(e);break;case"Circles":for(var i of s)this._circles.push(i);break;case"Rectangles":for(var o of s)this._rectangles.push(o);break;default:console.warn(`"${s}" is not a supported type to be popped into `+this.constructor.name)}}draw(t){null!=t&&(this.canvas=t);for(var s of this.#storage.types)0<this[s].length?(this._setPointOffset(this[s]),this[s].draw()):console.warn(`No ${s} exist to draw !`)}}class Lines extends Array{_point=new Point;_stroke=new StrokeCollection;_shadow=new ShadowCollection;_lineCap="round";_canvas=void 0;_aspect=new Aspect;_anchor=new Anchor;#options=new Options;_storage={type:Line};constructor(t={x:void 0,y:void 0},s){super(),this._isAspect=VALIDATION.isAspect,this._isCanvasLabObject=VALIDATION.isCanvasLabObject,this._isInDom=VALIDATION.isInDom,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAnchor=UTILITIES.collection.drawAnchor,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._drawOptionsPost=UTILITIES.collection.drawOptionsPost,this._setAnchorPoint=UTILITIES.collection.setAnchorPoint,this.draw=UTILITIES.collection.draw,this.push=UTILITIES.collection.push,this.redraw=UTILITIES.collection.redraw,Object.defineProperty(this,"anchor",PROPERTY_BLOCKS.combined.anchor),Object.defineProperty(this,"area",PROPERTY_BLOCKS.combined.area),Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.combined.canvas),Object.defineProperty(this,"endPoint",PROPERTY_BLOCKS.combined.endPoint),Object.defineProperty(this,"perimeter",PROPERTY_BLOCKS.combined.perimeter),Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"width",PROPERTY_BLOCKS.combined.aspectWidth),Object.defineProperty(this,"height",PROPERTY_BLOCKS.combined.aspectHeight),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY),this.point=t,this.canvas=s,this.stroke.master=this,0<arguments.length&&this.push.apply(this,arguments)}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}get stroke(){return this._stroke}get shadow(){return this._shadow}get options(){return this.#options}set lineCap(t){this._lineCap="butt"===t||"round"===t||"square"===t?t:this._lineCap}get lineCap(){return this._lineCap}set canvas(t){}get canvas(){}get aspect(){}get width(){}get height(){}set anchor(t){}get anchor(){}_isAspect(){}_isCanvasLabObject(t){}_isInDom(){}_isPoint(){}_drawAnchor(){}_drawAxis(){}_drawBorder(){}_drawOptionsPost(){}_drawOptionsPre(t,s){var e;for(e of["shadow","points","controlPoints","coordinates"])s[e]&&(t.options[e]=!0)}_setAnchorPoint(){}_setAspect(){var[t,s]=[2*this._canvas.canvas.clientWidth,2*this._canvas.canvas.clientHeight];let[e,i]=[t,s],[o,n]=[-t,-s];if(0<this.length)for(var r of this)e=r.start.x<e?r.start.x:e,e=r.end.x<e?r.end.x:e,o=r.start.x>o?r.start.x:o,o=r.end.x>o?r.end.x:o,i=r.start.y<i?r.start.y:i,i=r.end.y<i?r.end.y:i,n=r.start.y>n?r.start.y:n,n=r.end.y>n?r.end.y:n;else console.warn(`No ${this.constructor.name} exist to draw !`);[this._aspect.width,this._aspect.height]=[o-e,n-i]}_setPointOffset(t){t.start.x+=this.x,t.end.x+=this.x,t.start.y+=this.y,t.end.y+=this.y}get area(){}get center(){var t,s=(t,s,e)=>void 0===t?s:s<e?s<t?s:t:e<t?e:t;let e,i=void 0;for(t of this)e=s(e,t.start.x,t.end.x),i=s(i,t.start.y,t.end.y);return[e,i]=[e+this.width/2,i+this.height/2],new Point(e,i)}get endPoint(){}get perimeter(){}push(){}draw(){}redraw(){}}class Rectangles extends Array{_point=new Point;_stroke=new StrokeCollection;_shadow=new ShadowCollection;_canvas=void 0;_aspect=new Aspect;_anchor=new Anchor;#options=new Options;_storage={type:Rectangle};constructor(t={x:void 0,y:void 0},s){super(),this._isAspect=VALIDATION.isAspect,this._isCanvasLabObject=VALIDATION.isCanvasLabObject,this._isInDom=VALIDATION.isInDom,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAnchor=UTILITIES.collection.drawAnchor,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._drawOptionsPost=UTILITIES.collection.drawOptionsPost,this._setAnchorPoint=UTILITIES.collection.setAnchorPoint,this._setPointOffset=UTILITIES.collection.setPointOffset,this.draw=UTILITIES.collection.draw,this.push=UTILITIES.collection.push,this.redraw=UTILITIES.collection.redraw,Object.defineProperty(this,"anchor",PROPERTY_BLOCKS.combined.anchor),Object.defineProperty(this,"area",PROPERTY_BLOCKS.combined.area),Object.defineProperty(this,"aspect",PROPERTY_BLOCKS.combined.aspect),Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.combined.canvas),Object.defineProperty(this,"center",PROPERTY_BLOCKS.combined.center),Object.defineProperty(this,"endPoint",PROPERTY_BLOCKS.combined.endPoint),Object.defineProperty(this,"perimeter",PROPERTY_BLOCKS.combined.perimeter),Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"width",PROPERTY_BLOCKS.combined.aspectWidth),Object.defineProperty(this,"height",PROPERTY_BLOCKS.combined.aspectHeight),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY),this.point=t,this.canvas=s}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}get stroke(){return this._stroke}get shadow(){return this._shadow}get options(){return this.#options}set canvas(t){}get canvas(){}get aspect(){}get width(){}get height(){}set anchor(t){}get anchor(){}_isAspect(){}_isCanvasLabObject(){}_isInDom(){}_isPoint(){}_drawAnchor(){}_drawAxis(){}_drawBorder(){}_drawOptionsPost(){}_drawOptionsPre(t,s){var e;for(e of["shadow","points","controlPoints","coordinates"])s[e]&&(t.options[e]=!0)}_setAnchorPoint(){}_setAspect(){var[t,s]=[2*this._canvas.canvas.clientWidth,2*this._canvas.canvas.clientHeight];let[e,i]=[t,s],[o,n]=[-t,-s];if(0<this.length)for(var r of this)e=r.x<e?r.x:e,o=r.x+r.width>o?r.x+r.width:o,i=r.y<i?r.y:i,n=r.y+r.height>n?r.y+r.height:n;else console.warn(`No ${this.constructor.name} exist to draw !`);[this._aspect.width,this._aspect.height]=[o-e,n-i],[this._aspect.offset.x,this._aspect.offset.y]=[e-25,i-25]}_setPointOffset(){}get area(){}get center(){}get endPoint(){}get perimeter(){}push(){}draw(){}redraw(){}}class Texts extends Array{_point=new Point;_stroke=new StrokeCollection;_shadow=new ShadowCollection;_canvas=void 0;_aspect=new Aspect;_anchor=new Anchor;#options=new Options;_storage={type:Text};constructor(t={x:void 0,y:void 0},s){super(),this._isAspect=VALIDATION.isAspect,this._isCanvasLabObject=VALIDATION.isCanvasLabObject,this._isInDom=VALIDATION.isInDom,this._isPoint=VALIDATION.isPoint,this._clearCanvas=UTILITIES.misc.clearCanvas,this._drawAnchor=UTILITIES.collection.drawAnchor,this._drawAxis=UTILITIES.draw.axis,this._drawBorder=UTILITIES.draw.border,this._drawOptionsPost=UTILITIES.collection.drawOptionsPost,this._setAnchorPoint=UTILITIES.collection.setAnchorPoint,this._setPointOffset=UTILITIES.collection.setPointOffset,this.draw=UTILITIES.collection.draw,this.push=UTILITIES.collection.push,this.redraw=UTILITIES.collection.redraw,Object.defineProperty(this,"anchor",PROPERTY_BLOCKS.combined.anchor),Object.defineProperty(this,"area",PROPERTY_BLOCKS.combined.area),Object.defineProperty(this,"aspect",PROPERTY_BLOCKS.combined.aspect),Object.defineProperty(this,"canvas",PROPERTY_BLOCKS.combined.canvas),Object.defineProperty(this,"center",PROPERTY_BLOCKS.combined.center),Object.defineProperty(this,"endPoint",PROPERTY_BLOCKS.combined.endPoint),Object.defineProperty(this,"perimeter",PROPERTY_BLOCKS.combined.perimeter),Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"width",PROPERTY_BLOCKS.combined.aspectWidth),Object.defineProperty(this,"height",PROPERTY_BLOCKS.combined.aspectHeight),Object.defineProperty(this,"x",PROPERTY_BLOCKS.discrete.pointX),Object.defineProperty(this,"y",PROPERTY_BLOCKS.discrete.pointY),this.point=t,this.canvas=s}set point(t){}get point(){}set x(t){}get x(){}set y(t){}get y(){}get stroke(){return this._stroke}get shadow(){return this._shadow}get options(){return this.#options}set canvas(t){}get canvas(){}get aspect(){}get width(){}get height(){}set anchor(t){}get anchor(){}_isAspect(){}_isCanvasLabObject(){}_isInDom(){}_isPoint(){}_drawAnchor(){}_drawAxis(){}_drawBorder(){}_drawOptionsPost(){}_drawOptionsPre(t,s){var e;for(e of["shadow","points","controlPoints","coordinates"])s[e]&&(t.options[e]=!0)}_setAnchorPoint(){}_setAspect(){var[t,s]=[2*this._canvas.canvas.clientWidth,2*this._canvas.canvas.clientHeight];let[e,i]=[t,s],[o,n]=[-t,-s],r=14,a=9;if(0<this.length)for(var h of this){var c=this._canvas.measureText(this.text).width,d=this._canvas.fontBoundingBoxAscent+this._canvas.fontBoundingBoxDescent;e=h.x<e?h.x:e,o=h.x+c>o?h.x+c:o,i=h.y<i?h.y:i,n=h.y+d>n?h.y+d:n}else console.warn(`No ${this.constructor.name} exist to draw !`);[this._aspect.width,this._aspect.height]=[o-e,n-i],[this._aspect.offset.x,this._aspect.offset.y]=[e-r,i-a]}_setPointOffset(){}get area(){}get center(){}get endPoint(){}get perimeter(){}push(){}draw(){}redraw(){}}class Queue{_entries=new Array;_index=0;_entry=void 0;#touched=!1;constructor(t){if(Array.isArray(t))this.entries=t;else for(var s of arguments)this.entry=s}set entries(t){this._entries=Array.isArray(t)?t:this._entries}get entries(){return this._entries}get index(){return this._index}set entry(t){"object"!=typeof t&&"function"!=typeof t||this._entries.push(t)}get entry(){return this._entry}get isEnd(){return this.#touched&&0===this._index}get isLast(){return this._entries.length-1===this._index}get isSet(){return 0<this._entries.length}get next(){this.#touched=!0;var t=this._entries[this._index];return this._index===this._entries.length-1?this._index=0:this._index=this._index+1,t}get reset(){[this._index,this.#touched]=[0,!1]}}class Animation{_timing=void 0;_draw=void 0;_duration=2e3;#timings={easeInSine:t=>1-Math.cos(t*Math.PI/2),easeInCubic:t=>t*t*t,easeInQuint:t=>t*t*t*t*t,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeInElastic:t=>0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*(2*Math.PI/3)),easeInQuad:t=>t*t,easeInQuart:t=>t*t*t*t,easeInExpo:t=>0===t?0:Math.pow(2,10*t-10),easeInBack:t=>2.70158*t*t*t-1.70158*t*t,easeOutSine:t=>Math.sin(t*Math.PI/2),easeOutCubic:t=>1-Math.pow(1-t,3),easeOutQuint:t=>1-Math.pow(1-t,5),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeOutElastic:t=>0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*(2*Math.PI/3))+1,easeOutQuad:t=>1-(1-t)*(1-t),easeOutQuart:t=>1-Math.pow(1-t,4),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeOutBack:t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInOutElastic:t=>0===t?0:1===t?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*(2*Math.PI/4.5)))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*(2*Math.PI)/4.5)/2+1,easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInOutExpo:t=>0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInOutBack:t=>t<.5?Math.pow(2*t,2)*(7.189819*t-2.5949095)/2:(Math.pow(2*t-2,2)*(3.5949095*(2*t-2)+2.5949095)+2)/2};#queue=new Queue;constructor(t,s,e){this._isNumber=VALIDATION.isNumber,this.duration=t,this.timing=s,this.draw=e}set timing(t){switch(typeof t){case"string":this._timing=null!=this.#timings[t]?this.#timings[t]:this._timing;break;case"function":this._timing=t;break;default:console.warn(`"${t}" is not a valid timing type !`)}}get timing(){return this._timing}set draw(t){this._draw="function"==typeof t?t:this._draw}get draw(){return this._draw}set duration(t){this._duration=this._isNumber(t)?t:this._duration}get duration(){return this._duration}set queue(t){this.#queue=t instanceof Queue?t:this.#queue}get queue(){return this.#queue}_isNumber(){}_checkQueue(){var t;this.queue.isSet&&(t=this.queue.next,this.duration=t.duration,this.timing=t.timing,this.draw=t.draw)}_getAnimationProperties(){return this._checkQueue(),{duration:this._duration,timing:this._timing,draw:this._draw,queue:this.queue,callback:()=>this.animate()}}animate(){let o=this._getAnimationProperties();if(this._timing&&this._draw){let i=performance.now();requestAnimationFrame(function t(s){var s=(s-i)/o.duration,e=o.timing(s);o.draw(e),s<1?requestAnimationFrame(t):o.queue.isSet&&!o.queue.isEnd?o.callback():console.log("animation complete !")})}else console.warn('[ Animation ] :: The "timing" and/or "draw" function(s) are presently invalid !')}}class Application{#config={debug:!1,about:{Author:"Justin Don Byrne",Created:"October, 2 2023",Library:"Canvas Lab",Updated:"Jul, 29 2024",Version:"0.4.118",Copyright:"Copyright (c) 2023 Justin Don Byrne"}};#dom={canvases:void 0,contexts:{},window:{width:window.innerWidth-18,height:window.innerHeight-4,center:{x:(window.innerWidth-18)/4,y:(window.innerHeight-4)/2}},mouse:{start:void 0,end:void 0,down:!1,extant:-1,offset:{x:0,y:0}}};constructor(){this._isInDom=VALIDATION.isInDom}set canvas(t){var s=document.getElementsByTagName("canvas");if(void 0===this.#dom.canvases){this.#dom.canvases=new Object;for(var e of s)this.#dom.canvases[e.id]=document.getElementById(e.id),this.#dom.contexts[e.id]=document.getElementById(e.id).getContext("2d")}this._isInDom(t)?(this.#dom.main.canvas=this.#dom.canvases[t],this.#dom.main.context=this.#dom.contexts[t]):console.warn(`"${t}" does not exist !`)}get canvas(){return this.#dom.main.context}get about(){return this.#config.about}get dom(){return this.#dom}_isInDom(){}get _center(){return{x:(window.innerWidth-18)/4,y:(window.innerHeight-4)/2}}set animation(t={duration:duration,timing:timing,draw:draw}){var s;(t instanceof Queue?((s=new Animation).queue=t,s):new Animation(t.duration,t.timing,t.draw)).animate()}}let initCanvasLab=t=>{"function"==typeof canvasLab&&void 0===window.canvaslab&&(window.canvaslab=new canvasLab(t))};class SacredCircles{_point=new Point;_radius=25;_iterations=void 0;_degrees=void 0;_colors=new Queue([new Rgb(255,255,255,0)]);_master=void 0;#numbers=void 0;#tangents=void 0;#counter=-1;constructor(t={x:void 0,y:void 0},s,e,i,o){this._isNumber=VALIDATION.isNumber,this._isPoint=VALIDATION.isPoint,Object.defineProperty(this,"point",PROPERTY_BLOCKS.discrete.point),Object.defineProperty(this,"radius",PROPERTY_BLOCKS.discrete.radius),this.point=t,this.radius=s,this.iterations=e,this.degrees=i,this.colors=o,this._tangents=e}set point(t){}get point(){}set radius(t){}get radius(){}set iterations(t){this._iterations=this._isNumber(t)?t:this._iterations}get iterations(){return this._iterations}set degrees(t){this._degrees=Array.isArray(t)?new Queue(t):this._degrees}get degrees(){return this._degrees}set colors(t){this._colors=Array.isArray(t)?new Queue(t):this._colors}get colors(){return this._colors}get master(){return this._master}set _numbers(t){this.#numbers=Array.isArray(t)?new Queue(t):this.#numbers}set _tangents(t){this.#tangents=Number.isInteger(t)?this._getTangents(t):this.#tangents}_isNumber(){}_isPoint(){}_getTangents(){var s=new Array;let e=0;for(let t=1;t<=this.iterations;t++)s.push(6*e),e=t+e;return 1<this.iterations&&s.shift(),s}get totalObjects(){return void 0===this.#tangents&&(this.#tangents=this._getTangents()),this.#tangents[this.#tangents.length-1]}_insertShapeA(t,s,e,i){var i=this.radius*i,o=new Circle(t,this.radius,void 0,void 0,new Fill(e),void 0,void 0),t=(o.move(s,i),new Rectangle(t,void 0,void 0,new Fill(e),void 0,void 0)),e=(t.move(s,i),new Text(o.point,this.#numbers.next,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0));this.master.circles.push(o),this.master.rectangles.push(t),this.master.texts.push(e)}_insertShapeB(t,s){var e=this.master.circles.endPoint,i=this.radius,o=new Circle(e,this.radius,void 0,void 0,new Fill(s),void 0,void 0),s=(o.move(t,i),new Rectangle(e,void 0,void 0,new Fill(s),void 0,void 0)),t=(s.move(t,i),new Line(e,o.point,void 0,void 0,void 0,void 0)),i=new Text(o.point,this.#numbers.next,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);this.master.circles.push(o),this.master.rectangles.push(s),this.master.lines.push(t),this.master.texts.push(i)}_insertCouplingLines(){var t,s=this.master.circles.length-1;this.#tangents.includes(s)&&(this.#counter+=6,t=s-this.#counter,t=this.master.circles[t].point,s=this.master.circles[s].point,this.master.lines.push(new Line(s,t)))}init(){this._numbers=Array.from({length:this.totalObjects},(t,s)=>s.toString());for(let i=0;i<this.iterations;i++){this.degrees.reset;let[s,e]=[this.degrees.next,this.colors.next];for(let t=0;t<1;t++)this._insertShapeA(this.point,s,e,i);[s,e]=[this.degrees.next,this.colors.next];for(let t=0;t<=i-1;t++)this._insertShapeB(s,e);[s,e]=[this.degrees.next,this.colors.next];for(let t=0;t<=i-1;t++)this._insertShapeB(s,e);[s,e]=[this.degrees.next,this.colors.next];for(let t=0;t<=i-1;t++)this._insertShapeB(s,e);[s,e]=[this.degrees.next,this.colors.next];for(let t=0;t<=i-1;t++)this._insertShapeB(s,e);[s,e]=[this.degrees.next,this.colors.next];for(let t=0;t<=i-1;t++)this._insertShapeB(s,e);[s,e]=[this.degrees.next,this.colors.next];for(let t=0;t<=i-2;t++)this._insertShapeB(s,e);this._insertCouplingLines()}this.master.circles.reverse(),this.master.rectangles.reverse()}}